---
import HomeNewsletter from "@components/parts/HomeNewsletter.astro";
import FooterLogo from "@components/icons/FooterLogo.astro";
import LogoKeino from "@components/icons/LogoKeino.astro";
---

<section class="site-footer">
  <header class="site-footer--footer-header">
    <ul class="footer-header--header-rrss">
      <li class="header-rrss--list-element">
        <a
          class="header-rrss--list-link"
          href="https://www.linkedin.com/company/keinoestudio"
          target="_blank"
          title="Linkedin">IN</a
        >
      </li>
      <li class="header-rrss--list-element">
        <a
          class="header-rrss--list-link"
          href="https://www.instagram.com/keinoestudio/"
          target="_blank"
          title="Instagram">IG</a
        >
      </li>
      <li class="header-rrss--list-element">
        <a
          class="header-rrss--list-link"
          href="https://github.com/keinoestudio/"
          target="_blank"
          title="GitHub">GH</a
        >
      </li>
      <li class="header-rrss--list-element">
        <a
          class="header-rrss--list-link"
          href="https://be.net/keinoestudio"
          target="_blank"
          title="Behance">BE</a
        >
      </li>
      <li class="header-rrss--list-element disabled">
        <a
          class="header-rrss--list-link"
          href="/"
          target="_blank"
          title="YouTube">YT</a
        >
      </li>
    </ul>
    <div><FooterLogo classList="footer-logo" /></div>
  </header>
  <article class="site-footer--footer-info">
    <div class="footer-info--footer-grid">
      <div class="footer-grid--column">
        <h3 class="footer-info--text">Encantados de escucharte.</h3>
      </div>
      <div class="footer-grid--column">
        <ul class="footer-info--link-list">
          <li class="footer-info--link-element">
            <a
              class="footer-info--link"
              href="https://maps.app.goo.gl/i7o41Ph6zKS56pY38"
              target="_blank">A Coruña</a
            >
          </li>
          <li class="footer-info--link-element">
            <a class="footer-info--link" href="tel:+34881170845">881 17 08 45</a
            >
          </li>
          <li class="footer-info--link-element">
            <a class="footer-info--link" href="mailto:oficina@keinoestudio.com"
              >oficina@keinoestudio.com</a
            >
          </li>
          <li class="footer-info--link-element">
            <a class="footer-info--link__disabled" href="/">Kit de medios</a>
          </li>
        </ul>
        <p class="footer-info--schedule">
          De lunes a jueves de 9:00h. a 14:00h. y de 15:00h. a 18:00h. Viernes
          de 9:00h. a 13:30h.
        </p>
      </div>
    </div>
  </article>
  <HomeNewsletter />
  <footer class="site-footer--footer">
    <div class="site-footer--footer-wrapper">
      <p class="site-footer--footer-text">
        <span class="bold">&copy; keino estudio 2025.</span> Todos los derechos reservados.
      </p>
      <ul class="site-footer--legal">
        <li class="site-footer--legal-list">
          <a class="site-footer--legal-link" href="/legal">Aviso legal</a>
        </li>
        <li class="site-footer--legal-list">
          <a class="site-footer--legal-link" href="/privacy"
            >Política de privacidad</a
          >
        </li>
      </ul>
    </div>
  </footer>
  <div class="site-footer--logo-keino">
    <LogoKeino classList="site-footer--logo-keino__svg" />
  </div>
</section>

<script>
  import gsap from "gsap";
  import { SplitText } from "gsap/SplitText";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(SplitText, ScrollTrigger);

  let split = SplitText.create(".footer-info--text", {
    type: "words, chars, lines",
    mask: "words",
    autoSplit: true,
    onSplit: (self) => {
      return gsap.from(self.chars, {
        y: 150,
        autoAlpha: 0,
        stagger: {
          amount: 0.5,
          from: "random",
        },
        scrollTrigger: {
          trigger: ".footer-info--text",
          start: "top 80%", // Empieza cuando el texto esté al 80% de la ventana
          end: "bottom 60%", // Final opcional
          toggleActions: "play none none reverse",
          once: true, // Ejecuta solo una vez
        },
      });
    },
  });
</script>
<style lang="scss">
  @use "@styles/vars" as *;
  .site-footer {
    width: 100%;
    min-height: 100dvh;
    background-color: $ke-black;
    display: flex;
    flex-direction: column;
    position: relative;
    &--footer-header {
      z-index: 50;
      display: flex;
      flex-direction: column;
      justify-content: start;
      padding: 2rem 1.5rem;
      gap: 1.8rem;
      width: 100%;
      z-index: 750;

      @include device(lg) {
        flex-direction: row;
        justify-content: space-between;
        padding: 3rem 1.5rem;
      }
      .footer-header {
        &--header-rrss {
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          gap: 1rem;
          @include device(lg) {
            justify-content: space-between;
            gap: 2rem;
          }

          .header-rrss {
            &--list-element {
              background-color: rgba($ke-white, 0);
              border-radius: 0.2rem;
              text-align: center;
              transition: all 200ms ease-in-out;
              color: $ke-blue;
              @include device(lg) {
                min-width: 60px;
              }
              &:hover {
                background-color: rgba($ke-white, 0.2);
                color: $ke-white;
              }
            }
            &--list-link {
              padding: 0;
              color: inherit;
              font-size: 1.5rem;
              @include device(lg) {
                padding: 0.8rem;
              }
            }
          }
        }
      }
    }
    &--footer-info {
      z-index: 50;
      display: flex;
      flex-direction: column;
      padding: 2rem 1.5rem;
      height: 100%;
      flex-shrink: 1;
      .footer-info {
        &--footer-grid {
          display: grid;
          grid-template-columns: repeat(1, 1fr);
          gap: 2rem;
          @include device(lg) {
            grid-template-columns: 5fr 2fr;
          }
        }
        &--text {
          font-family: $display;
          font-weight: bold;
          font-size: 2.8rem;
          line-height: 2.8rem;
          @include device(sm) {
            font-size: 4.6rem;
            line-height: 5rem;
          }
          @include device(md) {
            font-size: 5.4rem;
            line-height: 6rem;
          }
          @include device(lg) {
            font-size: 5.6rem;
            line-height: 6.8rem;
          }
          @include device(xl) {
            font-size: 6.4rem;
            line-height: 7rem;
          }
          @include device(xxl) {
            font-size: 8rem;
            line-height: 9rem;
          }
        }
        &--link-list {
          font-family: $display;
          padding: 2rem 0;
          display: flex;
          flex-direction: column;
          gap: 1rem;
          @include device(lg) {
            padding: 2rem 0;
            gap: 0.4rem;
          }
          @include device(xl) {
            padding: 2rem 0;
            gap: 1rem;
          }
          @include device(xxl) {
            padding: 2.2rem 0;
            gap: 1.5rem;
          }
        }
        &--link-element {
          font-size: 1.2rem;
          @include device(lg) {
            font-size: 1rem;
          }
          @include device(xl) {
            font-size: 1.2rem;
          }
          @include device(xxl) {
            font-size: 1.5rem;
          }
        }

        &--link {
          color: $ke-white;
          transition: all 200ms ease-in-out;
          &:hover {
            color: $ke-blue;
          }
          &__disabled {
            color: rgba($ke-blue, 0.2);
            cursor: not-allowed;
            pointer-events: none;
          }
        }
        &--schedule {
          width: 90%;
          padding: 0;
          font-size: 0.8rem;
          @include device(xxl) {
            font-size: 1rem;
            width: 80%;
            padding: 1rem 0;
          }
        }
      }
    }
    &--footer {
      z-index: 50;
      margin: 2rem 0 0;
      padding: 0 1.5rem;
      @include device(lg) {
        margin: 8rem 0 0;
      }
    }
    &--footer-wrapper {
      padding: 2rem 0 2rem;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      color: $ke-blue;
      border-top: 2px solid $ke-blue;
      @include device(lg) {
        flex-direction: row;
        justify-content: space-between;
      }
    }
    &--footer-text {
      order: 1;
      font-family: $display;
      @include device(lg) {
        order: 0;
      }
    }
    &--legal {
      order: 0;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      @include device(lg) {
        order: 1;
        flex-direction: row;
        gap: 1.5rem;
      }
    }
    &--legal-link {
      color: $ke-blue;
      transition: all 200ms ease-in-out;
      &:hover {
        color: $ke-white;
      }
    }
    &--logo-keino {
      z-index: 40;
      position: absolute;
      bottom: 0;
      width: 100%;
      padding: 0 1.5rem;
      opacity: 0.1;
      overflow: hidden;
      &__svg {
        color: $ke-blue;
        transform: translateY(10%);
        @include device(lg) {
          transform: translateY(40%);
        }
      }
    }
  }
</style>
